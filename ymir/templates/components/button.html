<!-- Reusable Button Component (Modernized) -->

{% set button_colors = {
'ymir': 'btn-primary',
'red': 'bg-red-500 hover:bg-red-600',
'blue': 'bg-blue-600 hover:bg-blue-700',
'green': 'bg-emerald-600 hover:bg-emerald-700',
'gray': 'btn-secondary'
} %}

{% set has_left_icon = (button_loading_indicator is defined and button_loading_indicator) or (button_icon is defined and
button_icon and button_icon_position|default('left') == "left") %}
{% set has_right_icon = button_icon is defined and button_icon and button_icon_position|default('left') == "right" %}

<button type="{{ button_type|default('button') }}" {% if button_id is defined %}id="{{ button_id }}" {% endif %}
    class="{{ button_colors[button_color|default('ymir')] }} flex items-center justify-center gap-2 group {{ button_additional_classes|default('') }}"
    {{ button_htmx_attrs|default('') }}>

    {% if button_loading_indicator is defined and button_loading_indicator %}
    <div {% if button_indicator_id is defined %}id="{{ button_indicator_id }}" {% endif %}
        class="htmx-indicator">
        <i data-lucide="loader-2" class="w-4 h-4 animate-spin"></i>
    </div>
    {% elif button_icon is defined and button_icon and button_icon_position|default('left') == "left" %}
    <i data-lucide="{{ button_icon }}" class="w-4 h-4"></i>
    {% endif %}

    <span>{{ button_text|default('Button') }}</span>

    {% if button_icon is defined and button_icon and button_icon_position|default('left') == "right" %}
    <i data-lucide="{{ button_icon }}" class="w-4 h-4"></i>
    {% endif %}
</button>
